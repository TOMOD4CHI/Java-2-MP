<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.effect.DropShadow?>

<AnchorPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.cpi2.controllers.MainWindow"
            stylesheets="@/css/style.css">
    <BorderPane prefHeight="600" prefWidth="800" AnchorPane.topAnchor="0.0" 
                AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" 
                AnchorPane.bottomAnchor="60.0">
        <top>
            <VBox alignment="CENTER" spacing="15">
                <padding>
                    <Insets top="15" bottom="10"/>
                </padding>

                <!-- Fullscreen button removed as requested -->

                <MenuBar styleClass="main-menu-bar">
                    <effect>
                        <DropShadow color="#00000044" radius="5" spread="0.05"/>
                    </effect>
                    <Menu text="ðŸ« Auto-Ã©cole" styleClass="menu-item-with-icon">
                        <MenuItem text="âš™ï¸ GÃ©rer mon auto-Ã©cole" onAction="#loadAutoEcoleManagement" />
                    </Menu>
                    <Menu text="ðŸ‘¥ Candidats" styleClass="menu-item-with-icon">
                        <MenuItem text="ðŸ“ Inscription" onAction="#loadAjouterCandidat" />
                        <MenuItem text="ðŸ”„ Modifier" onAction="#loadModifierCandidat" />
                        <MenuItem text="ðŸ“„ Fournir des documents" onAction="#loadDocuments" />
                        <MenuItem text="ðŸ“ˆ Suivre progression" onAction="#loadProgression"/>
                        <MenuItem text="ðŸ‘€ Afficher tous les candidats" onAction="#loadAfficherCandidat"/>
                    </Menu>
                    <Menu text="ðŸ‘¨â€ðŸ« Moniteurs" styleClass="menu-item-with-icon">
                        <MenuItem text="âž• Ajouter moniteur" onAction="#loadAjouterMoniteur" />
                        <MenuItem text="ðŸ”„ Modifier moniteur" onAction="#loadModifierMoniteur" />
                        <MenuItem text="ðŸ‘€ Afficher tous les moniteurs" onAction="#loadAfficherMoniteur" />
                    </Menu>
                    <Menu text="ðŸ•’ SÃ©ances" styleClass="menu-item-with-icon">
                        <MenuItem text="ðŸš— Planifier une sÃ©ance de conduite" onAction="#loadSessionConduite" />
                        <MenuItem text="ðŸ“š Planifier une sÃ©ance de code" onAction="#loadSessionCode" />
                        <MenuItem text="âœ“ Confirmer prÃ©sence" onAction="#loadConfirmPresence" />
                        <MenuItem text="ðŸ‘¤ Affecter candidat Ã  une sÃ©ance" onAction="#loadRemplirSeance" />
                        <MenuItem text="ðŸ“‹ Afficher toutes les sÃ©ances" onAction="#loadAfficherSeance"/>
                    </Menu>
                    <Menu text="ðŸš— VÃ©hicules" styleClass="menu-item-with-icon">
                        <MenuItem text="ðŸ”§ GÃ©rer vÃ©hicules" onAction="#loadGestionVehicules"/>
                        <MenuItem text="ðŸ”Ž Suivi des entretiens" onAction="#loadSuiviEntretiens" />
                        <MenuItem text="ðŸ“Š Mettre Ã  jour kilomÃ©trage" onAction="#loadMiseAJourKilometrage" />
                        <MenuItem text="ðŸ”” Notifications" onAction="#loadNotifications"/>
                    </Menu>
                    <Menu text="ðŸ’° Paiements" styleClass="menu-item-with-icon">
                        <MenuItem text="ðŸ’³ Enregistrer un paiement" onAction="#loadPayment"/>
                        <MenuItem text="ðŸ“ƒ GÃ©nÃ©rer une facture" onAction="#loadInvoice"/>
                        <MenuItem text="ðŸ“œ Historique paiements" onAction="#loadPaymentHistory"/>
                    </Menu>
                    <Menu text="ðŸ“ Examen" styleClass="menu-item-with-icon">
                        <MenuItem text="ðŸ“… Inscription Ã  un examen" onAction="#loadExamRegistration" />
                        <MenuItem text="âœ“ Passer un examen" onAction="#loadExam"/>
                    </Menu>
                    <Menu text="ðŸ“Š Tableau de Bord" styleClass="menu-item-with-icon">
                        <MenuItem text="ðŸ’¹ Financier" onAction="#loadDashboardFinance"/>
                        <MenuItem text="ðŸ‘¥ Candidats" onAction="#loadDashboardCandidates"/>
                        <MenuItem text="ðŸš™ VÃ©hicules" onAction="#loadDashboardVehicles"/>
                    </Menu>
                </MenuBar>
            </VBox>
        </top>

        <center>
            <StackPane fx:id="contentArea" styleClass="content-area">
                <ImageView fx:id="logoImageView" fitWidth="600" fitHeight="600" styleClass="logo-image" opacity="0.6">
                    <Image url="@/images/logo4.png"/>
                    <effect>
                        <DropShadow color="#00000033" radius="15" spread="0.1"/>
                    </effect>
                </ImageView>
            </StackPane>
        </center>
    </BorderPane>

    <!-- Fixed footer at the bottom -->
    <VBox spacing="2" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" 
          AnchorPane.bottomAnchor="0.0">
        <HBox styleClass="footer" alignment="CENTER_LEFT" spacing="15">
            <padding>
                <Insets top="5" right="20" bottom="5" left="20"/>
            </padding>

            <!-- Left side: Auto-Ã©cole info -->
            <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS" spacing="5">
                <Label fx:id="ecoleNameLabel" styleClass="footer-title" text="ðŸ« Auto-Ã‰cole"/>
                <Label fx:id="ecoleAddressLabel" styleClass="footer-text" text="ðŸ“ Adresse"/>
            </VBox>

            <!-- Center: Return button -->
            <Button text="ðŸ  Retour Ã  l'accueil" onAction="#loadMain" fx:id="mainbttn" styleClass="main-return-button"/>

            <!-- Right side: Contact info -->
            <VBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS" spacing="5">
                <Label fx:id="ecoleTelLabel" styleClass="footer-text" text="ðŸ“ž TÃ©lÃ©phone"/>
                <Label fx:id="ecoleEmailLabel" styleClass="footer-text" text="ðŸ“§ Email"/>
            </VBox>
        </HBox>
    </VBox>
</AnchorPane>
