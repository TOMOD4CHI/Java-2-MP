<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="org.cpi2.controllers.RemplirSeance"
           stylesheets="@/css/styletab.css"
           prefWidth="1500" prefHeight="800">

    <HBox spacing="30" alignment="center">
        <VBox spacing="15" alignment="center" styleClass="form-container" HBox.hgrow="ALWAYS" minWidth="900" prefWidth="900">
            <Label text="Séances de Code Disponibles" styleClass="form-title"/>
            
            <HBox spacing="10" alignment="center_left" minWidth="600" prefWidth="600">
                <Label text="Filtrer par date:" styleClass="form-label" minWidth="150" prefWidth="150"/>
                <DatePicker fx:id="dateFilter" styleClass="form-field" minWidth="200" prefWidth="200"/>
            </HBox>
            
            <HBox spacing="15" alignment="center">
                <Button fx:id="searchBtn" text="Rechercher" onAction="#rechercherSeances" styleClass="button" minWidth="120" prefWidth="120"/>
                <Button fx:id="resetBtn" text="Réinitialiser" onAction="#resetFilters" styleClass="button" minWidth="120" prefWidth="120"/>
            </HBox>

            
            <TableView fx:id="seancesTable" VBox.vgrow="ALWAYS" styleClass="table-view" minWidth="500" prefWidth="500">
                <columns>
                    <TableColumn fx:id="dateColumn" text="Date" prefWidth="150"/>
                    <TableColumn fx:id="heureColumn" text="Heure" prefWidth="100"/>
                    <TableColumn fx:id="moniteurColumn" text="Moniteur" prefWidth="175"/>
                    <TableColumn fx:id="placesColumn" text="Places disponibles" prefWidth="150"/>
                </columns>
            </TableView>

            
            <HBox spacing="10" alignment="center_left" minWidth="700" prefWidth="700">
                <Label text="Séance sélectionnée:" styleClass="form-label" minWidth="150" prefWidth="150"/>
                <Label fx:id="selectedSessionLabel" text="Aucune séance sélectionnée" styleClass="info-text" minWidth="200" prefWidth="200"/>
            </HBox>
        </VBox>

        
        <VBox spacing="15" alignment="center" styleClass="form-container" HBox.hgrow="ALWAYS" maxWidth="400" prefWidth="400">
            <Label text="Candidats disponibles" styleClass="form-title"/>

            
            <TableView fx:id="candidatsTable" VBox.vgrow="ALWAYS" styleClass="table-view" minWidth="350" prefWidth="350">
                <columns>
                    <TableColumn fx:id="selectColumn" text="Sélectionner" prefWidth="100"/>
                    <TableColumn fx:id="nomColumn" text="Nom" prefWidth="125"/>
                    <TableColumn fx:id="prenomColumn" text="Prénom" prefWidth="125"/>
                </columns>
            </TableView>

            
            <HBox spacing="10" alignment="center_left" minWidth="350" prefWidth="350">
                <Label text="Candidats sélectionnés:" styleClass="form-label" minWidth="150" prefWidth="150"/>
                <Label fx:id="selectedCountLabel" text="0" styleClass="info-text" minWidth="50" prefWidth="50"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="selectAllBtn" text="Sélectionner tout" onAction="#selectAllCandidats" styleClass="button" minWidth="120" prefWidth="120"/>
                <Button fx:id="deselectAllBtn" text="Désélectionner tout" onAction="#deselectAllCandidats" styleClass="button" minWidth="120" prefWidth="120"/>
            </HBox>

            
            <HBox spacing="15" alignment="center">
                <Button fx:id="cancelBtn" text="Annuler" onAction="#cancel" styleClass="button" minWidth="120" prefWidth="120"/>
                <Button fx:id="saveBtn" text="Inscrire les candidats" onAction="#registerCandidates" styleClass="button" minWidth="150" prefWidth="150"/>
            </HBox>
        </VBox>
    </HBox>
</StackPane>
