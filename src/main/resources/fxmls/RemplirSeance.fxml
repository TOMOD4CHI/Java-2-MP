<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane prefHeight="600.0" prefWidth="800.0"
            xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.cpi2.controllers.RemplirSeance"
            stylesheets ="@/css/style6.css"
            styleClass="background-pane" >


    <VBox spacing="15.0" styleClass="remplir-seance-container" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="10.0">
        <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
        </padding>

        <Label styleClass="title" text="Inscription des candidats aux séances de code" />

        <!-- Séances de Code Section -->
        <VBox spacing="10" styleClass="tables-section">
            <Label styleClass="header-label" text="Séances de Code Disponibles" />

            <!-- Date Filter -->
            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="filter-section">
                <Label styleClass="filter-label" text="Filtrer par date:" />
                <DatePicker fx:id="dateFilter" styleClass="glass-field" />
                <Button fx:id="searchBtn" text="Rechercher" onAction="#rechercherSeances" styleClass="glass-button" />
                <Button fx:id="resetBtn" text="Réinitialiser" onAction="#resetFilters" styleClass="glass-button-secondary" />
            </HBox>

            <!-- Table des séances de code -->
            <TableView fx:id="seancesTable" VBox.vgrow="ALWAYS" styleClass="glass-table">
                <columns>
                    <TableColumn fx:id="dateColumn" text="Date" />
                    <TableColumn fx:id="heureColumn" text="Heure" />
                    <TableColumn fx:id="moniteurColumn" text="Moniteur" />
                    <TableColumn fx:id="placesColumn" text="Places disponibles" />
                </columns>
            </TableView>
        </VBox>

        <!-- Selected Session Info -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label styleClass="filter-label" text="Séance sélectionnée:" />
            <Label fx:id="selectedSessionLabel" text="Aucune séance sélectionnée" />
        </HBox>

        <!-- Candidates Section -->
        <VBox spacing="10" VBox.vgrow="ALWAYS" styleClass="tables-section">
            <Label styleClass="header-label" text="Candidats disponibles" />

            <!-- Candidates Table -->
            <TableView fx:id="candidatsTable" VBox.vgrow="ALWAYS" styleClass="glass-table">
                <columns>
                    <TableColumn fx:id="selectColumn" text="Sélectionner" />
                    <TableColumn fx:id="nomColumn" text="Nom" />
                    <TableColumn fx:id="prenomColumn" text="Prénom" />
                </columns>
            </TableView>

            <!-- Selected Candidates Info -->
            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="selection-controls">
                <Label styleClass="filter-label" text="Candidats sélectionnés:" />
                <Label fx:id="selectedCountLabel" text="0" />
                <Region HBox.hgrow="ALWAYS" />
                <Button fx:id="selectAllBtn" text="Sélectionner tout" onAction="#selectAllCandidats" styleClass="glass-button-secondary" />
                <Button fx:id="deselectAllBtn" text="Désélectionner tout" onAction="#deselectAllCandidats" styleClass="glass-button-secondary" />
            </HBox>
        </VBox>

        <!-- Bottom Button Bar -->
        <HBox alignment="CENTER_RIGHT" spacing="10" styleClass="action-buttons">
            <Button fx:id="cancelBtn" text="Annuler" onAction="#cancel" styleClass="glass-button-secondary" />
            <Button fx:id="saveBtn" text="Inscrire les candidats" onAction="#registerCandidates" styleClass="glass-button" />
        </HBox>
    </VBox>
</AnchorPane>