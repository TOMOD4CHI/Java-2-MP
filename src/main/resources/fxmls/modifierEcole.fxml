<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Pos?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.shape.Rectangle?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="org.cpi2.controllers.ModifierEcole"
           stylesheets="@/css/style.css"
           alignment="CENTER">

    <BorderPane maxWidth="800" maxHeight="700">
        <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
        </padding>

        <center>
            <ScrollPane fitToWidth="true" styleClass="transparent-scroll-pane">
                <VBox styleClass="form-container" spacing="20" alignment="CENTER">
                    <padding>
                        <Insets top="20" right="25" bottom="25" left="25"/>
                    </padding>

                    <StackPane styleClass="title-wrapper">
                        <Label text="Modifier les Informations" styleClass="form-title"/>
                    </StackPane>

                    <Separator styleClass="form-separator">
                        <VBox.margin>
                            <Insets top="5" bottom="20"/>
                        </VBox.margin>
                    </Separator>

                    <!-- Integrated Edit Form -->
                    <GridPane hgap="15" vgap="20" alignment="CENTER">
                        <columnConstraints>
                            <ColumnConstraints halignment="RIGHT" minWidth="120" prefWidth="150"/>
                            <ColumnConstraints halignment="LEFT" minWidth="250" prefWidth="350" hgrow="ALWAYS"/>
                        </columnConstraints>

                        <!-- Logo Section -->
                        <Label text="Logo:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <VBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="0" alignment="CENTER_LEFT">
                            <HBox spacing="15" alignment="CENTER_LEFT">
                                <StackPane>
                                    <Rectangle width="130" height="130" arcWidth="15" arcHeight="15" styleClass="logo-background"/>
                                    <ImageView fx:id="logoImageView" fitWidth="120" fitHeight="120" preserveRatio="true" styleClass="logo-image"/>
                                </StackPane>
                                <Button text="Changer le Logo" onAction="#handleLogoUpload" styleClass="button, action-button">
                                    <graphic>
                                        <Label text="+" styleClass="icon-3d-text"/>
                                    </graphic>
                                </Button>
                            </HBox>
                        </VBox>

                        <!-- Nom field -->
                        <Label text="Nom:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="nomField" styleClass="form-field-modified" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <!-- Adresse field -->
                        <Label text="Adresse:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="adresseField" styleClass="form-field-modified" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <!-- Téléphone field -->
                        <Label text="Téléphone:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="telephoneField" styleClass="form-field-modified" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                        <!-- Email field -->
                        <Label text="Email:" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <TextField fx:id="emailField" styleClass="form-field-modified" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                        <!-- Validation Messages -->
                        <Label fx:id="validationMessageLabel" styleClass="validation-message"
                               GridPane.columnIndex="0" GridPane.rowIndex="5" GridPane.columnSpan="2"
                               alignment="CENTER_LEFT" wrapText="true"/>
                    </GridPane>

                    <HBox spacing="20" alignment="CENTER" styleClass="button-container">
                        <VBox.margin>
                            <Insets top="25" bottom="10"/>
                        </VBox.margin>
                        <Button text="Réinitialiser" onAction="#handleReset" styleClass="button, reset-button"/>
                        <Button text="Annuler" onAction="#handleCancel" styleClass="button, cancel-button"/>
                        <Button text="Enregistrer" onAction="#handleModifierEcole" styleClass="button, submit-button"/>
                    </HBox>
                </VBox>
            </ScrollPane>
        </center>
    </BorderPane>
</StackPane>